---
agent: refactor-agent
cadence: weekly
session: 2026-02-21T20:22:19Z
run-start: 2026-02-21T20:22:19Z
prompt: src/prompts/weekly/refactor-agent.md
---

# Decisions

## Decision
Extracted `cmdRemove` to `src/cmd-remove.mjs`.

## Rationale
To adhere to separation of concerns and reduce the size of `src/ops.mjs` (>800 LOC).

## Decision
Restored explicit definition of `mergeRelayList` in `src/lock-utils.mjs` and removed it from re-export list.

## Rationale
To resolve `SyntaxError: The requested module './lock-utils.mjs' does not provide an export named 'mergeRelayList'` observed in CI.

## Decision
Updated `test/test-audit-run-flaky-check.test.mjs` to match keys by test name instead of file path.

## Rationale
The `run-flaky-check.mjs` tool reports results keyed by test name parsed from TAP output, not file paths. The test assertion was incorrect.
