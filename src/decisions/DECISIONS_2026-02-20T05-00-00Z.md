---
agent: docs-agent
cadence: daily
run-start: "2026-02-20T05:00:00Z"
prompt: src/prompts/daily/docs-agent.md
---

# Decisions — docs-agent — 2026-02-20

## Decision 1: Add missing env vars to README.md

**Decision:** Add the 4 missing environment variables to the README.md "Environment variables" section.

**Alternatives considered:**
- Open an issue instead of fixing — rejected; the change is small, safe, and well-supported by TORCH.md as authoritative source.
- Add to TORCH.md only — rejected; README.md is the consumer-facing entry point and should be complete.

**Rationale:** `TORCH.md` lists all env vars and is synchronized with `src/torch-config.mjs`. README.md was missing `NOSTR_LOCK_PUBLISH_TIMEOUT_MS`, `NOSTR_LOCK_MIN_SUCCESSFUL_PUBLISHES`, `NOSTR_LOCK_RELAY_FALLBACKS`, and `NOSTR_LOCK_MIN_ACTIVE_RELAY_POOL`. These affect production lock reliability and users configuring these env vars would not find them in README.md.

**Consequences/follow-ups:** Keep README.md env var list synchronized with TORCH.md on future changes.

---

## Decision 2: Add missing torch-config.json options to README.md

**Decision:** Add 8 missing configuration keys to README.md's `torch-config.json` section.

**Alternatives considered:**
- Open an issue instead of fixing — rejected; all keys are verified in TORCH.md and code.
- Only add the most user-facing ones — rejected; all 8 keys are production-relevant and documented in TORCH.md.

**Rationale:** `TORCH.md` is the authoritative configuration reference. The README.md configuration section was a subset, omitting scheduler behavior keys (`handoffCommandByCadence`, `strict_lock`, `degraded_lock_retry_window`, `max_deferrals`) and lock reliability keys (`publishTimeoutMs`, `minSuccessfulRelayPublishes`, `relayFallbacks`, `minActiveRelayPool`) that users configuring production deployments need.

**Consequences/follow-ups:** Keep README.md config section synchronized with TORCH.md on future changes.

---

## Decision 3: No changes to CONTRIBUTING.md

**Decision:** No changes made to CONTRIBUTING.md.

**Rationale:** All commands verified against package.json. Node.js >=22 requirement, npm install, npm run build, npm test, npm run lint, npm run test:unit:lock-backend, npm run test:extended-main, npm run validate:scheduler — all exist. Referenced docs (docs/lib-overview.md, docs/lock-ops-overview.md) exist.

---

## Decision 4: No changes to AGENTS.md

**Decision:** No changes made to AGENTS.md.

**Rationale:** AGENTS.md is the test integrity policy document. It is accurate and consistent with CLAUDE.md. No broken paths or incorrect commands found.
