# Context: Documentation of src/lock-ops.mjs

## Selection
Selected `src/lock-ops.mjs` for documentation.

## Reason
- **Size & Complexity**: This file is large (> 400 lines) and contains complex logic for relay health management, query execution with fallbacks, and lock publishing with retries.
- **Critical Path**: It implements the core locking mechanism for the Torch agent system, ensuring mutual exclusion across distributed agents.
- **Lack of Docs**: While some comments exist, public exports lack comprehensive JSDoc, and there is no high-level overview of the interaction between `RelayHealthManager` and `LockPublisher`.

## Plan
1.  **Analyze**: Review `src/lock-ops.mjs` to understand the flow of `queryLocks` and `publishLock`.
2.  **Document**: Add JSDoc to all exported functions and classes. Add inline comments to `RelayHealthManager.rankRelays` and `LockPublisher.executePublishCycle` to explain the logic.
3.  **Overview**: Create `docs/lock-ops-overview.md` to describe the architecture, sequence of operations, and failure handling strategies.
4.  **Verify**: Run lint and tests.
