# TODO: Decompose `scripts/agent/run-scheduler-cycle.mjs`

## Analysis
- [x] Read and analyze `scripts/agent/run-scheduler-cycle.mjs`
- [x] Identify cohesive blocks to extract

## Implementation
- [ ] Create `scripts/agent/scheduler-config.mjs`
  - [ ] Extract `parseArgs`, `getSchedulerConfig` (and `resolveNodeCommand`), `VALID_CADENCES`
  - [ ] Import dependencies (`readJson`, `parseNonNegativeInt`, etc.)
- [ ] Create `scripts/agent/scheduler-logger.mjs`
  - [ ] Extract `writeLog`, `printRunSummary`, `exitWithSummary`, `categorizeFailureMetadata`, `ts`
  - [ ] Import dependencies (`fs`, `path`, `toYamlScalar`, etc.)
- [ ] Create `scripts/agent/scheduler-state.mjs`
  - [ ] Extract `readRunState`, `writeRunState`, `createIdempotencyKey`
  - [ ] Import dependencies (`fs`, `path`, `randomUUID`, `readJson`)
- [ ] Refactor `scripts/agent/run-scheduler-cycle.mjs`
  - [ ] Import extracted functions from new modules
  - [ ] Remove extracted code
- [ ] Verify
  - [ ] `npm run lint` passes
  - [ ] `node scripts/agent/run-scheduler-cycle.mjs --help` (or similar check) works
  - [ ] File size reduced

## Finalization
- [ ] Run `node scripts/check-file-size.mjs --report` to confirm reduction
- [ ] Document in `DECISIONS_<timestamp>.md`
- [ ] Write memory update
