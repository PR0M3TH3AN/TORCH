# Todo: Decompose scripts/agent/run-scheduler-cycle.mjs

- [ ] Extract `scripts/agent/scheduler-utils.mjs`
  - [ ] `runCommand`
  - [ ] `getSafeEnv`
  - [ ] `sleep`
  - [ ] `parseJsonFromOutput`
  - [ ] `parseJsonEventsFromOutput`
  - [ ] `redactSensitive`
  - [ ] `excerptText`
  - [ ] `parseNonNegativeInt`
  - [ ] `parseBooleanFlag`
  - [ ] `readJson`
  - [ ] `normalizeStringList`
- [ ] Extract `scripts/agent/scheduler-lock.mjs`
  - [ ] `acquireLockWithRetry`
  - [ ] `summarizeLockFailureReasons`
  - [ ] `classifyLockBackendError`
  - [ ] `buildLockBackendRemediation`
  - [ ] `runLockHealthPreflight`
