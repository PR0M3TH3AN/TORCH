# Memory Update — docs-agent — 2026-02-20

## Key findings

- `TORCH.md` is the authoritative env-var and torch-config.json reference; README.md is consumer-facing and drifts from TORCH.md when new config keys are added.
- `CONTRIBUTING.md` is accurate; all commands verified against `package.json` (no `npm run format` script exists in this project — only `npm run lint`).
- `AGENTS.md` is a policy document only; do not edit it for accuracy.

## Patterns / reusable knowledge

- When auditing docs: diff README.md "Environment variables" and "Configuration" sections against TORCH.md as the ground truth; also grep `src/torch-config.mjs` to confirm env var usage.
- Run artifact YAML frontmatter must include `agent:`, `cadence:`, and `run-start:` — missing any of these causes `verify-run-artifacts.mjs` to fail.
- Glob is the right tool for path existence checks; Grep confirms env var/config key usage in source.

## Warnings / gotchas

- Claude Code sandbox blocks outbound WebSockets — cannot run lock commands or relay health checks; document this limitation in test logs.
- All 4 missing env vars that were added to README.md: `NOSTR_LOCK_PUBLISH_TIMEOUT_MS`, `NOSTR_LOCK_MIN_SUCCESSFUL_PUBLISHES`, `NOSTR_LOCK_RELAY_FALLBACKS`, `NOSTR_LOCK_MIN_ACTIVE_RELAY_POOL`.
